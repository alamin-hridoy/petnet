<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="{{ assetHash "/css/app.min.css" }}">
    <title>Edit Password</title>
    <style>
        .valid {
          color: green;
        }
        
        .valid:before {
          position: relative;
          left: -5px;
          top: 1px;
          content: url("data:image/svg+xml,%3Csvg width='10' height='11' viewBox='0 0 10 11' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M0 5.5C0 2.74 2.24 0.5 5 0.5C7.76 0.5 10 2.74 10 5.5C10 8.26 7.76 10.5 5 10.5C2.24 10.5 0 8.26 0 5.5ZM1.85 5.85L3.645 7.645C3.84 7.84 4.16 7.84 4.35 7.645L8.145 3.85C8.34 3.655 8.34 3.34 8.145 3.145C7.95 2.95 7.635 2.95 7.44 3.145L4 6.585L2.555 5.145C2.36 4.95 2.045 4.95 1.85 5.145C1.75637 5.23842 1.70376 5.36524 1.70376 5.4975C1.70376 5.62976 1.75637 5.75658 1.85 5.85Z' fill='%2346B746'/%3E%3C/svg%3E%0A");
        }
        .invalid {
          color: grey;
        }
        
        .invalid:before {
          position: relative;
          left: -5px;
          content: url("data:image/svg+xml,%3Csvg width='8' height='7' viewBox='0 0 8 7' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M7.15 0.354993C7.05659 0.261367 6.92976 0.208751 6.7975 0.208751C6.66524 0.208751 6.53842 0.261367 6.445 0.354993L4 2.79499L1.555 0.349993C1.46158 0.256367 1.33476 0.203751 1.2025 0.203751C1.07024 0.203751 0.943416 0.256367 0.850001 0.349993C0.655001 0.544993 0.655001 0.859993 0.850001 1.05499L3.295 3.49999L0.850001 5.94499C0.655001 6.13999 0.655001 6.45499 0.850001 6.64999C1.045 6.84499 1.36 6.84499 1.555 6.64999L4 4.20499L6.445 6.64999C6.64 6.84499 6.955 6.84499 7.15 6.64999C7.345 6.45499 7.345 6.13999 7.15 5.94499L4.705 3.49999L7.15 1.05499C7.34 0.864993 7.34 0.544993 7.15 0.354993Z' fill='%23626262'/%3E%3C/svg%3E");
        }
        </style>
</head>

<body class="font-sans">
    <div>
        <div class="flex">
            <!-- sidebar-left-start -->
            <div class="bg-petnetblue w-32 min-h-screen">
                <div class="min-h-screen">
                   {{if .IsPetnetAdmin}}
                   <img src="{{ assetHash "/images/DRP-Vertical.svg" }}" class="mx-auto my-5">
                   {{ template "admin-sidenav-menu.html" dict "Type" "profile" "Data" .}}
                   {{else}}
                   {{ template "dsa-sidenav-menu.html" dict "Type" "profile" "Data" .}}
                   {{end}}
                </div>
            </div>
            <!-- sidebarleft-end -->
            
            <!-- top-header-start -->
            <div class="min-h-screen w-full flex bg-petnetgray">
                <div class="w-full">
                  <div class="px-32 py-4 shadow-md bg-white">
                    <ul class="flex justify-end items-center space-x-4 mb-16">
                      <li>
                          <svg xmlns="http://www.w3.org/2000/svg" class="h-9 w-9" fill="none" viewBox="0 0 24 24"
                              stroke="currentColor">
                              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                  d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9" />
                          </svg>
                      </li>
                      <li>
                        {{ template "top-head-profile.html" dict "UserInfo" .LoginUserInfo "CompanyName" .CompanyName .}}
                      </li>
                      <li>
                          <div class="relative" id="topDropdownBox">
                              <a href="javascript:;" onclick="toggleTopButton('openTopDropdown')">
                                  <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none"
                                      viewBox="0 0 24 24" stroke="currentColor">
                                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                          d="M19 9l-7 7-7-7" />
                                  </svg>
                              </a>
                              <div class="absolute right-0 top-12 hidden" id="openTopDropdown">
                                  <div
                                      class="transform skew-y-12 skew-x-12 rotate-45 w-6 h-6 absolute ml-auto top-0 right-0 shadow bg-white z-10">
                                  </div>
                                  <div class="shadow-lg  absolute top-3 -right-5 rounded">
                                      <div class="relative z-20 p-3 w-36 bg-white rounded space-y-2">
                                          <a class="flex text-sm items-center" href="/profile">
                                              <svg class="mr-2" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                  <path fill-rule="evenodd" clip-rule="evenodd" d="M16 8C16 10.21 14.21 12 12 12C9.79 12 8 10.21 8 8C8 5.79 9.79 4 12 4C14.21 4 16 5.79 16 8ZM4 18C4 15.34 9.33 14 12 14C14.67 14 20 15.34 20 18V19C20 19.55 19.55 20 19 20H5C4.45 20 4 19.55 4 19V18Z" fill="#333333"/>
                                              </svg>
                                              Profile
                                          </a>
                                          <a href="/logout" class="flex text-sm pl-1">
                                              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none"
                                                  viewBox="0 0 24 24" stroke="currentColor">
                                                  <path stroke-linecap="round" stroke-linejoin="round"
                                                      stroke-width="2"
                                                      d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1" />
                                              </svg>
                                              Logout
                                          </a>
                                      </div>
                                  </div>
                              </div>
                          </div>
                      </li>
                  </ul>

                  {{if ne .MessageDetails ""}}
                  <div class="flex bg-white justify-end">
                   
                      <div id="alert-show-error" role="alert" class=" w-3/3 mr-20">
                        <div class=" absolute right-56 top-16 ">
                            <div
                                class="transform skew-y-12 skew-x-12 rotate-45 w-6 h-6 absolute ml-auto top-0 right-0 shadow bg-white z-10">
                            </div>
                            <div class="shadow absolute top-3 -right-2 rounded">
                                <div class="relative z-20 px-3 py-4 w-80 bg-white rounded ">
                                    <div class="border-b">
                                        Notification
                                    </div>
                                    <div class="flex items-center pt-2">
                                        <div class="p-2 h-10 rounded-lg bg-petnetgreen mr-3">
                                            <svg xmlns="http://www.w3.org/2000/svg"
                                          class="h-6 w-6 text-white rounded-full" viewBox="0 0 20 20"
                                          fill="currentColor">
                                          <path fill-rule="evenodd"
                                              d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z"
                                              clip-rule="evenodd" />
                                            </svg>
                                        </div>
                                  <div>
                                    <p class="text-petnetblue font-bold"> You have updated your Password.</p>
                                    <span>
                                        {{.MessageDetails}}
                                    </span>
                                  </div>
                                  <a href="javascript:;" class="mr-2 text-black-400 inline-block w-3 ml-auto"
                                      id="alert-remove-error" onclick="hidealertMessage()">
                                      <svg width="15" height="15" viewBox="0 0 12 12" fill="none"
                                          xmlns="http://www.w3.org/2000/svg">
                                          <path
                                              d="M11.25 0.757931C11.0943 0.601887 10.8829 0.514193 10.6625 0.514193C10.442 0.514193 10.2307 0.601887 10.075 0.757931L5.99998 4.8246L1.92498 0.749597C1.76928 0.593553 1.55791 0.505859 1.33748 0.505859C1.11704 0.505859 0.905668 0.593553 0.749976 0.749597C0.424976 1.0746 0.424976 1.5996 0.749976 1.9246L4.82498 5.9996L0.749976 10.0746C0.424976 10.3996 0.424976 10.9246 0.749976 11.2496C1.07498 11.5746 1.59998 11.5746 1.92498 11.2496L5.99998 7.1746L10.075 11.2496C10.4 11.5746 10.925 11.5746 11.25 11.2496C11.575 10.9246 11.575 10.3996 11.25 10.0746L7.17497 5.9996L11.25 1.9246C11.5666 1.60793 11.5666 1.0746 11.25 0.757931Z"
                                              fill="#BCC3C8" />
                                      </svg>
                                  </a>
                                  </div>
                                    
                                    
                                </div>
                            </div>
                            </div>
                          <!-- petnetpink text-white -->
                          
                      </div>
                  </div>
                  {{end}}
                <div class="mb-4">
                    <h2 class="sm:text-4xl text-2xl text-petnetblue">My Profile</h2>
                </div>
                  </div>
                    <!-- top-header-end -->
                    <!-- side-nav -->
                    <div>
                        <div class="px-6 lg:px-32 py-10 flex flex-wrap bg-petnetgray h-screen mt-4">
                            <div class="w-1/4 pr-2 flex flex-col rounded">
                              <div class="mb-8">
                                <div class="bg-white rounded">
                                    <h4 class="text-xl font-semibold text-petnetblue pt-7 px-6 pb-4 border-b">Actions</h4>
                                    <!-- actions list start -->
                                    <ul>
                                        <li>
                                            <a href="/profile" class="flex items-center border-l-4 border-white hover:bg-petnetlightblue hover:bg-opacity-10 hover:border-petnetblue py-5 px-10">
                                                <span class="w-12 inline-block">
                                                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M20.71 4.04207C21.1 3.65211 21.1 3.02217 20.71 2.63221L18.37 0.292455C18.1832 0.105222 17.9295 0 17.665 0C17.4005 0 17.1468 0.105222 16.96 0.292455L15 2.25225L18.75 6.00186L20.71 4.04207ZM17.75 7.00176L14 3.25215L4.15 13.1011C4.05 13.2011 4 13.3211 4 13.4611V16.5008C4 16.7807 4.22 17.0007 4.5 17.0007H7.54C7.67 17.0007 7.8 16.9507 7.89 16.8507L17.75 7.00176ZM22 20.0004H2C0.9 20.0004 0 20.9003 0 22.0002C0 23.1001 0.9 24 2 24H22C23.1 24 24 23.1001 24 22.0002C24 20.9003 23.1 20.0004 22 20.0004Z" fill="#1A2791"/>
                                                    </svg>
                                                </span>
                                                <span class="font-semibold text-base">Edit Profile</span>
                                            </a>
                                        </li>
                                        <li>
                                            <a href="/change-password" class="flex items-center border-l-4 hover:bg-petnetlightblue hover:bg-opacity-10 py-5 px-10 bg-petnetlightblue bg-opacity-10 border-petnetblue">
                                                <span class="w-12 inline-block">
                                                  <svg width="18" height="22" viewBox="0 0 18 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M1.19 3.37625L8.19 0.26625C8.7 0.03625 9.3 0.03625 9.81 0.26625L16.81 3.37625C17.53 3.69625 18 4.41625 18 5.20625V9.90625C18 15.4563 14.16 20.6462 9 21.9062C3.84 20.6462 0 15.4563 0 9.90625V5.20625C0 4.41625 0.47 3.69625 1.19 3.37625ZM16 10.8962H9V2.09625L2 5.20625V10.9062H9V19.8363C12.72 18.6863 15.47 15.0163 16 10.8962Z" fill="#1A2791"/>
                                                    </svg>
                                                </span>
                                                <span class="font-semibold text-base">Change Password</span>
                                            </a>
                                        </li>
                                    </ul>
                                    <!-- actions list end -->
                                </div>
                            </div>
                            </div>
                            <div class="w-3/4 pl-2">
                            
                                <div class="bg-white rounded mb-3">
                                    <form method="POST" action="/change-password">
                                        {{ .CSRFField }}
                                        <div class="border-b flex items-center justify-between">
                                            <h4 class="text-xl font-bold text-petnetblue pt-7 px-6 pb-4">Change Password</h4>
                                        </div>
                                        <div class="py-6 px-10">
                                                <div class="w-1/2 pb-4">
                                                    <label for="" class="block font-normal text-sm">
                                                        Current Password<span class="text-petnetpink">*</span>
                                                    </label>
                                            <div class="relative">
                                            <input id="CurrentPassword" name="CurrentPassword" type="password" placeholder="Enter Current Password"
                                            class="password py-2 w-full rounded-md bg-petnetgray focus:outline-none focus:ring-1 focus:ring-blue-400 px-3 border border-gray-300 mt-1 text-gray-700">
                                                <span id="passEyeChange" class="absolute top-3 right-4 z-10 opacity-30 toggle-password cursor-pointer">
                                                    <span id="eyeShow" class="">
                                                        <svg viewBox="0 0 24 24" class="h-7 w-7" fill="#000" xmlns="http://www.w3.org/2000/svg"><path d="M12 5c-7.633 0-9.927 6.617-9.948 6.684L1.946 12l.105.316C2.073 12.383 4.367 19 12 19s9.927-6.617 9.948-6.684l.106-.316-.105-.316C21.927 11.617 19.633 5 12 5zm0 11c-2.206 0-4-1.794-4-4s1.794-4 4-4 4 1.794 4 4-1.794 4-4 4z"/><path d="M12 10c-1.084 0-2 .916-2 2s.916 2 2 2 2-.916 2-2-.916-2-2-2z"/></svg>
                                                    </span>
                                                    <span id="eyeClose" class="hidden">
                                                        <svg viewBox="0 0 24 24" class="h-7 w-7" fill="#000" xmlns="http://www.w3.org/2000/svg"><path d="M8.073 12.194 4.212 8.333c-1.52 1.657-2.096 3.317-2.106 3.351L2 12l.105.316C2.127 12.383 4.421 19 12.054 19c.929 0 1.775-.102 2.552-.273l-2.746-2.746a3.987 3.987 0 0 1-3.787-3.787zM12.054 5c-1.855 0-3.375.404-4.642.998L3.707 2.293 2.293 3.707l18 18 1.414-1.414-3.298-3.298c2.638-1.953 3.579-4.637 3.593-4.679l.105-.316-.105-.316C21.98 11.617 19.687 5 12.054 5zm1.906 7.546c.187-.677.028-1.439-.492-1.96s-1.283-.679-1.96-.492L10 8.586A3.955 3.955 0 0 1 12.054 8c2.206 0 4 1.794 4 4a3.94 3.94 0 0 1-.587 2.053l-1.507-1.507z"/></svg>
                                                    </span>
                                                </span>
                                            </div>
                                                {{with .Errors.CurrentPassword}}
                                                <p class="text-red-700 mt-2">{{.}}</p>
                                                {{end}}        
                                                </div>
                                                <div class="w-1/2 pb-4">
                                                    <label for="" class="block font-normal text-sm">
                                                        New Password<span class="text-petnetpink">*</span>
                                                    </label>
                                            <div class="relative">
                                                <input oninput="PasswordStreetMeter('password', 'passwordMeeter', 'passwordMeeterwrap');" id="password" name="NewPassword" type="password" placeholder="Enter New Password"
                                                class="password py-2 w-full rounded-md bg-petnetgray focus:outline-none focus:ring-1 focus:ring-blue-400 px-3 border border-gray-300 mt-1 text-gray-700">
                                                <span id="ReenterpassEyeChange" class="absolute top-3 right-4 z-10 opacity-30 toggle-password cursor-pointer">
                                                    <span id="reEyeShow" class="">
                                                        <svg viewBox="0 0 24 24" class="h-7 w-7" fill="#000" xmlns="http://www.w3.org/2000/svg"><path d="M12 5c-7.633 0-9.927 6.617-9.948 6.684L1.946 12l.105.316C2.073 12.383 4.367 19 12 19s9.927-6.617 9.948-6.684l.106-.316-.105-.316C21.927 11.617 19.633 5 12 5zm0 11c-2.206 0-4-1.794-4-4s1.794-4 4-4 4 1.794 4 4-1.794 4-4 4z"/><path d="M12 10c-1.084 0-2 .916-2 2s.916 2 2 2 2-.916 2-2-.916-2-2-2z"/></svg>
                                                    </span>
                                                    <span id="reEyeClose" class="hidden">
                                                        <svg viewBox="0 0 24 24" class="h-7 w-7" fill="#000" xmlns="http://www.w3.org/2000/svg"><path d="M8.073 12.194 4.212 8.333c-1.52 1.657-2.096 3.317-2.106 3.351L2 12l.105.316C2.127 12.383 4.421 19 12.054 19c.929 0 1.775-.102 2.552-.273l-2.746-2.746a3.987 3.987 0 0 1-3.787-3.787zM12.054 5c-1.855 0-3.375.404-4.642.998L3.707 2.293 2.293 3.707l18 18 1.414-1.414-3.298-3.298c2.638-1.953 3.579-4.637 3.593-4.679l.105-.316-.105-.316C21.98 11.617 19.687 5 12.054 5zm1.906 7.546c.187-.677.028-1.439-.492-1.96s-1.283-.679-1.96-.492L10 8.586A3.955 3.955 0 0 1 12.054 8c2.206 0 4 1.794 4 4a3.94 3.94 0 0 1-.587 2.053l-1.507-1.507z"/></svg>
                                                    </span>
                                                </span>
                                            </div>
                                        <p id="passwordMeeterwrap" class="mt-2 hidden"><span class='font-bold text-black'>Password strength: </span><span id="passwordMeeter"></span></p>
                                            {{with .Errors.NewPassword}}
                                                <p class="text-red-700 mt-2">{{.}}</p>
                                                {{end}}
                                                </div>
                                                <div id="message" class="bg-white">
                                                    <div class="flex space-x-2 mt-3">
                                                        <div id="vweak" class="w-24 h-2 bg-petnetslightgray rounded-full"></div>
                                                        <div id="weak" class="w-24 h-2 bg-petnetslightgray rounded-full"></div>
                                                        <div id="avg" class="w-24 h-2 bg-petnetslightgray rounded-full"></div>
                                                        <div id="strong" class="w-24 h-2 bg-petnetslightgray rounded-full"></div>
                                                        <div id="vstrong" class="w-24 h-2 bg-petnetslightgray rounded-full"></div>
                                                    </div>
                                                    <p id="length" class="invalid text-xs text-gray-500 p-2">Password should be a minimum of 8 characters to 64 maximum</b></p>
                                                    <p id="number" class="invalid text-xs text-gray-500 p-2">1 numeric</p>
                                                    <p id="special" class="invalid text-xs text-gray-500 p-2">1 special charecter</p>
                                                    <p id="capital" class="invalid text-xs text-gray-500 p-2">1 capital letter</p>
                                                </div>
                                                <div class="w-1/2">
                                                    <label for="" class="block font-normal text-sm">
                                                        Confirm New Password<span class="text-petnetpink">*</span>
                                                    </label>
                                            <div class="relative">
                                                <input id="confpassword" name="ConfirmPassword" oninput="PasswordStreetMeter('password','passwordMeeter', 'passwordMeeterwrap');" type="password" placeholder="Enter Confirm New Password"
                                            class="password py-2 w-full rounded-md bg-petnetgray focus:outline-none focus:ring-1 focus:ring-blue-400 px-3 border border-gray-300 mt-1 text-gray-700">
                                                <span id="ConfirmpassEyeChange" class="absolute top-3 right-4 z-10 opacity-30 toggle-password cursor-pointer">
                                                    <span id="ConfirmEyeShow" class="">
                                                        <svg viewBox="0 0 24 24" class="h-7 w-7" fill="#000" xmlns="http://www.w3.org/2000/svg"><path d="M12 5c-7.633 0-9.927 6.617-9.948 6.684L1.946 12l.105.316C2.073 12.383 4.367 19 12 19s9.927-6.617 9.948-6.684l.106-.316-.105-.316C21.927 11.617 19.633 5 12 5zm0 11c-2.206 0-4-1.794-4-4s1.794-4 4-4 4 1.794 4 4-1.794 4-4 4z"/><path d="M12 10c-1.084 0-2 .916-2 2s.916 2 2 2 2-.916 2-2-.916-2-2-2z"/></svg>
                                                    </span>
                                                    <span id="ConfirmEyeClose" class="hidden">
                                                        <svg viewBox="0 0 24 24" class="h-7 w-7" fill="#000" xmlns="http://www.w3.org/2000/svg"><path d="M8.073 12.194 4.212 8.333c-1.52 1.657-2.096 3.317-2.106 3.351L2 12l.105.316C2.127 12.383 4.421 19 12.054 19c.929 0 1.775-.102 2.552-.273l-2.746-2.746a3.987 3.987 0 0 1-3.787-3.787zM12.054 5c-1.855 0-3.375.404-4.642.998L3.707 2.293 2.293 3.707l18 18 1.414-1.414-3.298-3.298c2.638-1.953 3.579-4.637 3.593-4.679l.105-.316-.105-.316C21.98 11.617 19.687 5 12.054 5zm1.906 7.546c.187-.677.028-1.439-.492-1.96s-1.283-.679-1.96-.492L10 8.586A3.955 3.955 0 0 1 12.054 8c2.206 0 4 1.794 4 4a3.94 3.94 0 0 1-.587 2.053l-1.507-1.507z"/></svg>
                                                    </span>
                                                </span>
                                            </div>
                                                {{with .Errors.ConfirmPassword}}
                                                <p id="confpasserr" class="text-red-700 mt-2">{{.}}</p>
                                                {{end}}
                                            </div>
                                        </div>
                                        <div class="px-9 pb-11">
                                            <button type="submit" id="changePassword" class="bg-petnetblue py-3 px-12 text-white rounded-md">Save</button>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        {{ template "otp-modal.html" dict "Email" .LoginUserInfo.Email "CSRFField" .CSRFField }}
        <script>
            function hidealertMessage() {
                var ase = document.getElementById("alert-show-error");
                ase.classList.add('hidden');
                if (params.has("msgType")) {
                    params.delete("msgType");
                }
            }
        </script>
        <script type="text/javascript" src="{{ assetHash "/js/zxcvbn.js" }}"></script>
        <script>
            function toggleTopButton(id) {
                let getDropdownItem = document.getElementById(id)
                let isHiddenClass = getDropdownItem.classList.contains('hidden');
                if (!isHiddenClass) {
                    getDropdownItem.classList.add("hidden");
                } else {
                    getDropdownItem.classList.remove("hidden");
                }
            }
            document.addEventListener("DOMContentLoaded", function () {
                let menus = document.querySelectorAll("a");
                for (let i = 0; i < menus.length; i++) {
                    menus[i].addEventListener("click", function(e){
                        e.preventDefault();
                        let lnk = menus[i].href;
                        menus[i].href = "javascript:;"
                        window.location.href = lnk;
                    });
                }
            });
        </script>
        <script>
            var deC = "bg-petnetslightgray"
            function RemoveScoreMeterColor(){
                let ids = ["vweak", "weak", "avg", "strong", "vstrong"];
                let colorLists = ["bg-petnetgreen", "bg-petnetpink", "bg-petnetorange"];
                ids.forEach(elm => {
                    let elmObj = document.getElementById(elm);
                    colorLists.forEach(clr => {
                        elmObj.classList.remove(clr);
                        elmObj.classList.add(deC);
                    });
                });
            }
            function ScoreMeterColor(mk, clr){
                let sm = {
                    "m0": ["vweak"],
                    "m1": ["vweak", "weak"],
                    "m2": ["vweak", "weak", "avg"],
                    "m3": ["vweak", "weak", "avg", "strong"],
                    "m4": ["vweak", "weak", "avg", "strong", "vstrong"],
                };
                sm[mk].forEach(mo => {
                    let meeterObj = document.getElementById(mo);
                    meeterObj.classList.remove(deC);
                    meeterObj.classList.add(clr);
                });
            }
            function ScoreMeter(meter){
                RemoveScoreMeterColor();
                if (meter == 0 && meter < 1) {
                    ScoreMeterColor('m0', 'bg-petnetpink');
                } else if (meter > 0 && meter < 2) {
                    ScoreMeterColor('m1', 'bg-petnetpink');
                } else if (meter > 1 && meter < 3) {
                    ScoreMeterColor('m2', 'bg-petnetorange');
                } else if (meter > 2 && meter < 4) {
                    ScoreMeterColor('m3', 'bg-petnetgreen');
                } else if (meter > 3 && meter < 5) {
                    ScoreMeterColor('m4', 'bg-petnetgreen');
                }
            }
            var myInput = document.getElementById("password");
            var special = document.getElementById("special");
            var capital = document.getElementById("capital");
            var number = document.getElementById("number");
            var length = document.getElementById("length");
            myInput.onkeyup = function() {
              // Validate special charecter
              var SpecialLetters = /(?=.*?[#?!@$%^&*-])/g;
              if(myInput.value.match(SpecialLetters)) {  
                special.classList.remove("invalid");
                special.classList.add("valid");
              } else {
                special.classList.remove("valid");
                special.classList.add("invalid");
              }
              
              // Validate capital letters
              var upperCaseLetters = /[A-Z]/g;
              if(myInput.value.match(upperCaseLetters)) {  
                capital.classList.remove("invalid");
                capital.classList.add("valid");
              } else {
                capital.classList.remove("valid");
                capital.classList.add("invalid");
              }
            
              // Validate numbers
              var numbers = /[0-9]/g;
              if(myInput.value.match(numbers)) {  
                number.classList.remove("invalid");
                number.classList.add("valid");
              } else {
                number.classList.remove("valid");
                number.classList.add("invalid");
              }
              
              // Validate length
              if(myInput.value.length >= 8) {
                length.classList.remove("invalid");
                length.classList.add("valid");
              } else {
                length.classList.remove("valid");
                length.classList.add("invalid");
              }
            }
            </script>
        
        <script>
            
        function PasswordStreetMeter(inp, outp, pmw){
            ScoreMeter(0);
            RemoveScoreMeterColor();
            var passPolicy = false;
            // var passerr = document.getElementById("passerr");
            // passerr.classList.add("hidden");
            const regex = /^(?=.*?[A-Z])(?=.*?[0-9])(?=.*?[^\w\s]).{8,}$/;
            var password = document.getElementById(inp).value;
            var confpassword = document.getElementById("confpassword").value;
            var passwordMeeterwrap = document.getElementById(pmw);
            var passwordMeeter = document.getElementById(outp);
            var submitButton = document.getElementById('changePassword');
            var zxcvbnR = zxcvbn(password);
            if(password.length > 64){
                buttonDisable(submitButton);
                // passwordMeeterwrap.classList.remove('hidden');
                passwordMeeter.innerHTML = "The Password length must be between 8 and 64.";
                passwordMeeter.classList.add('text-red-500');
                passwordMeeter.classList.remove('text-green-700');
                passwordMeeter.classList.remove('text-yellow-700');
            }
            if(!password.match(regex)){
                passPolicy = false;
                // passwordMeeterwrap.classList.remove('hidden');
                buttonDisable(submitButton)
                passwordMeeter.innerHTML = "The password entered does not meet policy.";
                passwordMeeter.classList.add('text-red-500');
                passwordMeeter.classList.remove('text-green-700');
                passwordMeeter.classList.remove('text-yellow-700');
            }else{
                passPolicy = true;
                // passwordMeeterwrap.classList.remove('hidden');
                if(zxcvbnR.score == 0){
                    ScoreMeter(0);
                    passwordMeeter.innerHTML = "Very Weak";
                    passwordMeeter.classList.remove('text-green-700');
                    passwordMeeter.classList.remove('text-yellow-500');
                    passwordMeeter.classList.add('text-red-500');
                }else if(zxcvbnR.score == 1){
                    ScoreMeter(1);
                    passwordMeeter.innerHTML = "Weak";
                    passwordMeeter.classList.remove('text-green-700');
                    passwordMeeter.classList.remove('text-yellow-500');
                    passwordMeeter.classList.add('text-red-500');
                } else if(zxcvbnR.score == 2){
                    ScoreMeter(2);
                    passwordMeeter.innerHTML = "Average";
                    passwordMeeter.classList.remove('text-green-700');
                    passwordMeeter.classList.remove('text-red-500');
                    passwordMeeter.classList.add('text-yellow-500');
                } else if(zxcvbnR.score == 3){
                    ScoreMeter(3);
                    passwordMeeter.innerHTML = "Strong";
                    passwordMeeter.classList.remove('text-red-500');
                    passwordMeeter.classList.remove('text-yellow-500');
                    passwordMeeter.classList.add('text-green-700');
                } else if(zxcvbnR.score == 4){
                    ScoreMeter(4);
                    passwordMeeter.innerHTML = "Very Strong";
                    passwordMeeter.classList.remove('text-red-500');
                    passwordMeeter.classList.remove('text-yellow-500');
                    passwordMeeter.classList.add('text-green-700');
                }
            }
            if(password == ""){
                passwordMeeter.innerHTML = "";
                passwordMeeterwrap.classList.add('hidden');
            }
            if(password != "" && confpassword != ""){
                if((password == confpassword) && (passPolicy == true)){
                    passPolicy = true;
                    buttonEnable(submitButton);
                }
                if(password != confpassword){
                    passPolicy = false;
                    buttonDisable(submitButton)
                    passwordMeeter.innerHTML = "Password & Confirm Password doesn't Match.";
                    passwordMeeter.classList.remove('text-green-700');
                    passwordMeeter.classList.remove('text-yellow-500');
                    passwordMeeter.classList.add('text-red-500');
                }
            }else{
                passPolicy = false;
                buttonDisable(submitButton)
            }
        }
        document.addEventListener("DOMContentLoaded", function () {
          var togglePasswordBtn = document.getElementsByClassName("toggle-password");
          var passwordInput = document.getElementsByClassName('password');
          for (let i = 0; i < togglePasswordBtn.length; i++) {
            let togglePassword = togglePasswordBtn[i]
            let password = passwordInput[i]
            togglePassword.addEventListener("click", function () {
              password.type = (password.type === "password") ? "text" : "password";
            });
          }
        });
        let passEyeChange = document.getElementById('passEyeChange')
        let eyeShow = document.getElementById('eyeShow')
        let eyeClose = document.getElementById('eyeClose')
        passEyeChange.addEventListener('click', ()=>{
            eyeShow.classList.toggle('hidden')
            eyeClose.classList.toggle('hidden')
        })
        let ReenterpassEyeChange = document.getElementById('ReenterpassEyeChange')
        let reEyeShow = document.getElementById('reEyeShow')
        let reEyeClose = document.getElementById('reEyeClose')
        ReenterpassEyeChange.addEventListener('click', ()=>{
            reEyeShow.classList.toggle('hidden')
            reEyeClose.classList.toggle('hidden')
        })
        let ConfirmpassEyeChange = document.getElementById('ConfirmpassEyeChange')
        let ConfirmEyeShow = document.getElementById('ConfirmEyeShow')
        let ConfirmEyeClose = document.getElementById('ConfirmEyeClose')
        ConfirmpassEyeChange.addEventListener('click', ()=>{
            ConfirmEyeShow.classList.toggle('hidden')
            ConfirmEyeClose.classList.toggle('hidden')
        })
        </script>
    
</body>
</html>
